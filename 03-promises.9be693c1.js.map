{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEAC,EAAAF,GAASG,OAAOC,KAAK,CACnBC,SAAU,aACVC,SAAU,OACVC,SAAS,IAGX,IAAMC,EAAUC,SAASC,cAAc,SACjCC,EAAYF,SAASG,qBAAqB,SAC1CC,EAAgBJ,SAASG,qBAAqB,UAC9CE,EAAgBL,SAASM,kBAAkB,SAC3CC,EAAeP,SAASM,kBAAkB,QAC1CE,EAAiBR,SAASM,kBAAkB,UAElDG,EAEIV,EADFW,SAAYC,EAAKF,EAALG,MAAOC,EAAIJ,EAAJK,KAAMC,EAAMN,EAANO,OAG3BjB,EAAQkB,MAAMC,QAAU,OACxBnB,EAAQkB,MAAME,cAAgB,SAC9BpB,EAAQkB,MAAMG,WAAa,a,IAEtBC,GAAW,EAAXC,GAAW,EAAXC,OAAWC,E,IAAhB,QAAKC,EAAAC,EAAexB,EAASyB,OAAAC,cAAxBP,GAAAI,EAAAC,EAAWG,QAAAC,MAAXT,GAAW,EAAe,CAA1B,IAAMU,EAANN,EAAWO,MACdD,EAAMd,MAAMC,QAAU,OACtBa,EAAMd,MAAME,cAAgB,SAC5BY,EAAMd,MAAMG,WAAa,aACzBW,EAAMd,MAAMgB,aAAe,OAC3BF,EAAMd,MAAMiB,WAAa,O,SALtBZ,GAAW,EAAXC,EAAWY,E,YAAXd,GAAW,MAAXK,EAAWU,QAAXV,EAAWU,S,WAAXd,E,MAAAC,GAQLnB,EAAc,GAAGa,MAAMpB,SAAW,OAClCO,EAAc,GAAGa,MAAMiB,WAAa,MACpC9B,EAAc,GAAGa,MAAMoB,MAAQ,QAC/BjC,EAAc,GAAGkC,aAAa,YAAY,GAE1CjC,EAAc,GAAGY,MAAMoB,MAAQ,QAC/B9B,EAAa,GAAGU,MAAMoB,MAAQ,QAC9B7B,EAAe,GAAGS,MAAMoB,MAAQ,QAEhC,IAAME,EAAY,SAAC3C,EAAU4C,GAC3B/C,EAAAF,GAASG,OAAO+C,QAAQ,uBAAwCC,OAAf9C,EAAS,QAAY8C,OAANF,EAAM,QAGlEG,EAAW,SAAC/C,EAAUgD,GAC1BnD,EAAAF,GAASG,OAAOmD,QAAQ,sBAAqCH,OAAf9C,EAAS,QAAY8C,OAANE,EAAM,QAGrE,SAASE,EAAclD,EAAUmD,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACT,IAAMC,EAAgBC,KAAKC,SAAW,GAChCC,EAAM,CAAE3D,WAAUgB,MAAAmC,GAEpBK,EAEFH,EAAQM,GAGRL,EAAOK,KAERR,MAoBP,SAASS,IAEW,KAAhB7C,EAAMqB,OAA+B,KAAfnB,EAAKmB,OAAiC,KAAjBjB,EAAOiB,MAGhD5B,EAAc,GAAGkC,aAAa,YAAY,GAC1ClC,EAAc,GAAGqD,gBAAgB,YAtBvC1D,EAAQ2D,iBAAiB,UAAU,SAAAC,GACjCA,EAAMC,iBAMN,IAJA,IAAIC,EAAaC,OAAOnD,EAAMqB,OACxB+B,EAAYD,OAAOjD,EAAKmB,OACxBgC,EAAcF,OAAO/C,EAAOiB,OAEzBpC,EAAW,EAAGA,GAAYoE,EAAapE,GAAY,EAC1DkD,EAAclD,EAAUiE,GACrBI,MAAK,SAAAC,G,OAAO3B,EAAU2B,EAAItE,SAAUsE,EAAItD,UACxCuD,OAAM,SAAAC,G,OAASzB,EAASyB,EAAMxE,SAAUwE,EAAMxD,UAEjDiD,GAAcE,KAalB1D,EAAc,GAAGqD,iBAAiB,SAAS,WACzCF,OAGFjD,EAAa,GAAGmD,iBAAiB,SAAS,WACxCF,OAGFhD,EAAe,GAAGkD,iBAAiB,SAAS,WAC1CF,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nNotiflix.Notify.init({\n  position: 'center-top',\n  fontSize: '16px',\n  useIcon: false,\n});\n\nconst formRef = document.querySelector('.form');\nconst labelsRef = document.getElementsByTagName('label');\nconst btnSubmitsRef = document.getElementsByTagName('button');\nconst inputDelayRef = document.getElementsByName('delay');\nconst inputStepRef = document.getElementsByName('step');\nconst inputAmountRef = document.getElementsByName('amount');\n\nconst {\n  elements: { delay, step, amount },\n} = formRef;\n\nformRef.style.display = 'flex';\nformRef.style.flexDirection = 'column';\nformRef.style.alignItems = 'flex-start';\n\nfor (const label of labelsRef) {\n  label.style.display = 'flex';\n  label.style.flexDirection = 'column';\n  label.style.alignItems = 'flex-start';\n  label.style.marginBottom = '15px';\n  label.style.fontWeight = '600';\n}\n\nbtnSubmitsRef[0].style.fontSize = '1rem';\nbtnSubmitsRef[0].style.fontWeight = '600';\nbtnSubmitsRef[0].style.width = '235px';\nbtnSubmitsRef[0].setAttribute('disabled', true);\n\ninputDelayRef[0].style.width = '235px';\ninputStepRef[0].style.width = '235px';\ninputAmountRef[0].style.width = '235px';\n\nconst onSuccess = (position, delay) => {\n  Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\n\nconst onReject = (position, delay) => {\n  Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n};\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      const obj = { position, delay };\n\n      if (shouldResolve) {\n        // Fulfill\n        resolve(obj);\n      } else {\n        // Reject\n        reject(obj);\n      }\n    }, delay);\n  });\n}\n\nformRef.addEventListener('submit', event => {\n  event.preventDefault();\n\n  let delayValue = Number(delay.value);\n  const stepValue = Number(step.value);\n  const amountValue = Number(amount.value);\n\n  for (let position = 1; position <= amountValue; position += 1) {\n    createPromise(position, delayValue)\n      .then(res => onSuccess(res.position, res.delay))\n      .catch(error => onReject(error.position, error.delay));\n\n    delayValue += stepValue;\n  }\n});\n\nfunction verifyAllInputs() {\n  const someEmpty =\n    delay.value === '' || step.value === '' || amount.value === '';\n\n  someEmpty\n    ? btnSubmitsRef[0].setAttribute('disabled', true)\n    : btnSubmitsRef[0].removeAttribute('disabled');\n}\n\ninputDelayRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputStepRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n\ninputAmountRef[0].addEventListener('input', () => {\n  verifyAllInputs();\n});\n"],"names":["$iU1Pc","parcelRequire","$parcel$interopDefault","Notify","init","position","fontSize","useIcon","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$labelsRef","getElementsByTagName","$ce04d3a99e08e73b$var$btnSubmitsRef","$ce04d3a99e08e73b$var$inputDelayRef","getElementsByName","$ce04d3a99e08e73b$var$inputStepRef","$ce04d3a99e08e73b$var$inputAmountRef","$ce04d3a99e08e73b$var$_elements","elements","$ce04d3a99e08e73b$var$delay","delay","$ce04d3a99e08e73b$var$step","step","$ce04d3a99e08e73b$var$amount","amount","style","display","flexDirection","alignItems","$ce04d3a99e08e73b$var$_iteratorNormalCompletion","$ce04d3a99e08e73b$var$_didIteratorError","$ce04d3a99e08e73b$var$_iteratorError","undefined","$ce04d3a99e08e73b$var$_step","$ce04d3a99e08e73b$var$_iterator","Symbol","iterator","next","done","$ce04d3a99e08e73b$var$label","value","marginBottom","fontWeight","err","return","width","setAttribute","$ce04d3a99e08e73b$var$onSuccess","delay1","success","concat","$ce04d3a99e08e73b$var$onReject","delay2","failure","$ce04d3a99e08e73b$var$createPromise","delay3","Promise","resolve","reject","setTimeout","shouldResolve","Math","random","obj","$ce04d3a99e08e73b$var$verifyAllInputs","removeAttribute","addEventListener","event","preventDefault","delayValue","Number","stepValue","amountValue","then","res","catch","error"],"version":3,"file":"03-promises.9be693c1.js.map"}